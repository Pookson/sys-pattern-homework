# Домашнее задание к занятию «Резервное копирование баз данных» - `Statsenko Nikolay`

### Задание 1

1.1. Восстановление данных в полном объеме за предыдущий день:

   - Полное резервное копирование (Full Backup): Этот метод включает создание полной копии всех данных базы данных на регулярной основе, например, каждый день в конце рабочего дня. При восстановлении данных достаточно просто взять последнее полное резервное копирование и восстановить все данные из него.

1.2. Восстановление данных за час до предполагаемой поломки:

   - Транзакционное резервное копирование (Transaction Log Backup): Этот метод основан на резервном копировании журналов транзакций базы данных, которые фиксируют все изменения данных после последнего полного резервного копирования. Резервные копии журналов транзакций позволяют восстановить базу данных до определенного момента в прошлом, в данном случае, за час до предполагаемой поломки.

1.3 Да, в случае, если настроена репликация с активным master-сервер и пассивным репликационным slave-сервером.

### Задание 2

2.1 
Резервное копирование базы данных с использованием pg_dump:

```
pg_dump -U username -d dbname -F c -f backup.dump
```
Восстановление базы данных с использованием pg_restore:

```
pg_restore -U username -d dbname backup.dump
```

2.1*
Да, например написать скрипты используя pg_dump и pg_restore и настроить cron хапуска этих скриптов в определенное время.
   
### Задание 3

3.1. Если я правильно понял, из коробки MySQL не поддерживает инкрементного резервного копирования базы данных, но можно использовать mysqlbinlog.
Команда mysqlbinlog преобразует бинарный журнал MySQL в текстовый формат SQL-запросов, создавая инкрементную резервную копию изменений, произошедших с базой данных в указанный временной интервал.

```
mysqlbinlog --start-datetime='2023-06-21 00:00:00' --stop-datetime='2023-06-21 23:59:59' mysql-bin.00000X > incremental_backup.sql
```

3.1.* Использование реплики базы данных может предоставить несколько преимуществ по сравнению с обычным резервным копированием в следующих случаях:

   - Высокая доступность: Репликация позволяет иметь вторую (или более) копию базы данных, которая постоянно синхронизируется с основной базой данных. Если основная база данных становится недоступной из-за сбоя или обслуживания, вы можете переключиться на реплику и продолжить работу без прерывания обслуживания.

   - Быстрое восстановление: Восстановление базы данных из реплики обычно происходит намного быстрее, чем из резервной копии. Поскольку реплика постоянно синхронизируется с основной базой данных, достаточно просто переключиться на реплику и продолжить работу без необходимости восстанавливать данные из резервной копии и применять транзакционные журналы.

   - Защита от повреждения данных: В случае повреждения данных в основной базе данных, реплика может сохранить целостность данных. Если данные становятся некорректными или поврежденными, вы можете отключить реплику и продолжить работу с основной базой данных без поврежденных данных.

   - Тестирование обновлений: Реплику можно использовать для тестирования обновлений, патчей или новых функций без влияния на основную базу данных. Вы можете настроить реплику и проверить влияние изменений на данные и производительность, не затрагивая основную производственную среду.

